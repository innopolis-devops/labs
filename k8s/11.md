# Lab 11

## Manual secret installation

`kubectl create secret generic example-secret --from-literal=secret=example`:

```text
secret/example-secret created
```

`kubectl get secrets`:

```text
NAME                               TYPE                 DATA   AGE
example-secret                     Opaque               1      19s
sh.helm.release.v1.app-python.v1   helm.sh/release.v1   1      15m
```

`kubectl describe secret`:

```text
Name:         example-secret
Namespace:    default
Labels:       <none>
Annotations:  <none>

Type:  Opaque

Data
====
secret:  7 bytes


Name:         sh.helm.release.v1.app-python.v1
Namespace:    default
Labels:       modifiedAt=1676885701
              name=app-python
              owner=helm
              status=deployed
              version=1
Annotations:  <none>

Type:  helm.sh/release.v1

Data
====
release:  8164 bytes
```

`kubectl get secret example-secret -o jsonpath='{.data}'`:

```json
{ "secret": "ZXhhbXBsZQ==" }
```

`echo 'ZXhhbXBsZQ==' | base64 --decode`:

```text
example
```

## Installation using configs

`kubectl exec app-python-657459d6c4-m5pw5 -- printenv`:

```text
PATH=/.venv/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=app-python-657459d6c4-m5pw5
EXAMPLE_SECRET=example
KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
APP_PYTHON_SERVICE_PORT_HTTP=80
APP_PYTHON_PORT_80_TCP_PROTO=tcp
APP_PYTHON_PORT_80_TCP_PORT=80
KUBERNETES_SERVICE_PORT=443
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_PORT=tcp://10.96.0.1:443
APP_PYTHON_PORT_80_TCP_ADDR=10.100.150.34
KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PROTO=tcp
KUBERNETES_PORT_443_TCP_PORT=443
APP_PYTHON_SERVICE_HOST=10.100.150.34
APP_PYTHON_SERVICE_PORT=80
APP_PYTHON_PORT_80_TCP=tcp://10.100.150.34:80
KUBERNETES_SERVICE_HOST=10.96.0.1
APP_PYTHON_PORT=tcp://10.100.150.34:80
LANG=C.UTF-8
GPG_KEY=E3FF2839C048B25C084DEBE9B26995E310250568
PYTHON_VERSION=3.9.6
PYTHON_PIP_VERSION=21.2.4
PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py
PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b
LC_ALL=C.UTF-8
PYTHONDONTWRITEBYTECODE=1
PYTHONFAULTHANDLER=1
HOME=/home/appuser
```
