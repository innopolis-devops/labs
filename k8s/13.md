## Commands outputs
```
$ helm install stateful ./python-app

NAME: stateful
LAST DEPLOYED: Mon Feb 13 02:07:25 2023
NAMESPACE: default
STATUS: deployed
REVISION: 1
NOTES:
1. Get the application URL by running these commands:
     NOTE: It may take a few minutes for the LoadBalancer IP to be available.
           You can watch the status of by running 'kubectl get --namespace default svc -w stateful-python-app'
  export SERVICE_IP=$(kubectl get svc --namespace default stateful-python-app --template "{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}")
  echo http://$SERVICE_IP:80
```

```
$ kubectl get po,sts,svc,pvc

NAME                        READY   STATUS    RESTARTS   AGE
pod/stateful-python-app-0   1/1     Running   0          106s
pod/stateful-python-app-1   1/1     Running   0          95s
pod/stateful-python-app-2   1/1     Running   0          89s

NAME                                   READY   AGE
statefulset.apps/stateful-python-app   3/3     106s

NAME                          TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE
service/kubernetes            ClusterIP      10.96.0.1      <none>        443/TCP        15h
service/stateful-python-app   LoadBalancer   10.107.5.171   <pending>     80:31345/TCP   106s

NAME                                                     STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE   
persistentvolumeclaim/app-volume-stateful-python-app-0   Bound    pvc-434a6c25-a8e6-4f33-b8fc-20fed10e801a   1Gi        RWO            standard       106s  
persistentvolumeclaim/app-volume-stateful-python-app-1   Bound    pvc-603e6638-1b32-4049-bb78-f7c3c3c28012   1Gi        RWO            standard       95s   
persistentvolumeclaim/app-volume-stateful-python-app-2   Bound    pvc-33527dfd-01d2-4d6c-87d2-8e5765fde994   1Gi        RWO            standard       89s
```

```
$ kubectl exec pod/stateful-python-app-0 -- cat visits_data
13-02-2023 02:09:53; 
13-02-2023 02:09:59;
13-02-2023 02:10:12;

$ kubectl exec pod/stateful-python-app-1 -- cat visits_data
13-02-2023 02:09:41; 
13-02-2023 02:09:42;
13-02-2023 02:10:03;
13-02-2023 02:10:06;
13-02-2023 02:10:09;

$ kubectl exec pod/stateful-python-app-2 -- cat visits_data
13-02-2023 02:09:20; 
13-02-2023 02:09:50;
13-02-2023 02:10:07;
13-02-2023 02:10:10;
```

Outputs of visits_data are different because each pod has its own isolated persistance volume, 
so it registers when users visit only to itself.

## Ordering guarantee
Ordering guarantee is unnecessary for our app, because each pod has its own isolated state, volumes and provides service on its own.

To launch/terminal pods in parallel we need to put ```podManagementPolicy: "Parallel"``` to the spec of the StatefulSet.

```
kubectl get po

NAME                    READY   STATUS    RESTARTS   AGE
stateful-python-app-0   1/1     Running   0          37s
stateful-python-app-1   1/1     Running   0          37s
stateful-python-app-2   1/1     Running   0          37s
```