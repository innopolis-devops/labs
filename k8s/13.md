# Lab 13

`kubectl get po,sts,svc,pvc`

```text
NAME               READY   STATUS    RESTARTS   AGE
pod/app-python-0   1/1     Running   0          3m45s
pod/app-python-1   1/1     Running   0          3m45s
pod/app-python-2   1/1     Running   0          3m45s

NAME                          READY   AGE
statefulset.apps/app-python   3/3     3m45s

NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
service/app-python   ClusterIP   10.100.150.34   <none>        80/TCP    29h
service/kubernetes   ClusterIP   10.96.0.1       <none>        443/TCP   84d

NAME                                     STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistentvolumeclaim/www-app-python-0   Bound    pvc-47a88cc8-d444-41d6-9a68-4e6be5dd608c   1Gi        RWO            standard       3m45s
persistentvolumeclaim/www-app-python-1   Bound    pvc-3d90a1b1-5228-4965-8957-40ebf264e030   1Gi        RWO            standard       3m45s
persistentvolumeclaim/www-app-python-2   Bound    pvc-2c48f8ac-e491-48ec-9dd0-9017958c4b98   1Gi        RWO            standard       3m45s
```

Let's check the `visits.txt` file of each pod

```text
kubectl exec pod/app-python-0 -- cat visits.txt
21%

kubectl exec pod/app-python-1 -- cat visits.txt
20%

kubectl exec pod/app-python-2 -- cat visits.txt
31%
```

We can see that the number of visits differ with respect to the pods.
This happens because each of the pods has persistent volumes, that are isolated.
Hence, each pod has a private `visits.txt`, and only registers visits to itself

## Ordering guarantee

Using a StatefulSet we are dealing with a collection of independent pods: they do not share states, volumes, and provide the same service, but on their own.
Thus, ordering of the replicas creation would not affect potential users in any way â€” they would not even know which replica served a request.
