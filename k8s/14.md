#### i have a k8s, i have a Prometheus
## Uuugh
# KUBE-PROMETHEUS



### Components
>1) **Prometheus Operator** - 
>2) **Prometheus** - monitoring tool that collects and store metrics
>3) **Alertmanager** - alert manager.... handles alerts
>4) **Prometheus node-exporter** - monitor and send os and hardware metrics to the prometheus
>5) **Prometheus Adapter for Kubernetes Metrics APIs** - monitor and send kubernetes metrics to prometheus
>6) **kube-state-metrics** - monitor and send states of objects to prometheus
>7) **Grafana** - visualizing tool

### err... just following lab tasks

1) `kubectl get po,sts,svc,pvc,cm` command output
[![imageup.ru](https://imageup.ru/img269/4209972/141.png)](https://imageup.ru/img269/4209972/141.png.html)

where:
> po - pods
> sts - statefulsets
> svc - services
> pvc - persistent volume claims
> cm - configmaps

2) access grafanaðŸŽ‰ðŸŽ‰ðŸŽ‰
[![imageup.ru](https://imageup.ru/img14/4209982/142.png)](https://imageup.ru/img14/4209982/142.png.html)

3) 
> Check how much CPU and Memory your StatefulSet is consuming.`Kubernetes / Compute Resources / Namespace (Workload)`
[![imageup.ru](https://imageup.ru/img292/4210011/sscpu.png)](https://imageup.ru/img292/4210011/sscpu.png.html)
[![imageup.ru](https://imageup.ru/img163/4210012/ssmem.png)](https://imageup.ru/img163/4210012/ssmem.png.html)

> Check which Pod is using CPU more than others and which is less in the default namespace. `Kubernetes / Compute Resources / Namespace (Pods)` 
[![imageup.ru](https://imageup.ru/img144/4210014/podcpu.png)](https://imageup.ru/img144/4210014/podcpu.png.html)
well... prometheus and grafana eat really a lot...

> Check how much memory is used on your node, in % and mb. `Kubernetes / Compute Resources / Namespace (Pods)`
[![imageup.ru](https://imageup.ru/img192/4210017/podmem.png)](https://imageup.ru/img192/4210017/podmem.png.html)

> Check how many pods and containers actually ran by the Kubelet service. `Kubernetes / Kublet`
[![imageup.ru](https://imageup.ru/img227/4210018/podscont.png)](https://imageup.ru/img227/4210018/podscont.png.html)

> Check which Pod is using network more than others and which is less in the default namespace. `Kubernetes / Networking / Namespace (Pods)`
[![imageup.ru](https://imageup.ru/img6/4210021/etworkpods.png)](https://imageup.ru/img6/4210021/etworkpods.png.html)

> Check how many alerts you have. Also you can see them in the Web UI by the `minikube service monitoring-kube-prometheus-alertmanager` command.
[![imageup.ru](https://imageup.ru/img74/4210024/alertmanager1.png)](https://imageup.ru/img74/4210024/alertmanager1.png.html)
[![imageup.ru](https://imageup.ru/img229/4210025/alertmanager2.png)](https://imageup.ru/img229/4210025/alertmanager2.png.html)
8 alerts in total

### after completing tutorial

1) use an init container to download file
run `kubectl apply -f init_container/deployment.yaml`
2) YAY
[![imageup.ru](https://imageup.ru/img62/4210027/dsadffafdsfsd.png)](https://imageup.ru/img62/4210027/dsadffafdsfsd.png.html)

THAT'S ALL!!!!!!ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰
[thank you for this EXTREMELY AMAZING course!!!](https://www.youtube.com/watch?v=DUrLB-8EBFs)
[this is what i feel after completeng labs](https://youtu.be/pMLIQP46OwE?t=50)
hope my back and neck will be healthy one day






